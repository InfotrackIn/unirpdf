version: 1.0
runtime: python3

build:
  commands:
    build:
      - pip install -r requirements.txt

run:
  # El comando ahora usa la variable de entorno $PORT que App Runner le proporciona.
  command: uvicorn main:app --host 0.0.0.0 --port $PORT

# La configuración de red es la sección correcta para definir el puerto.
network:
  port: 8080
